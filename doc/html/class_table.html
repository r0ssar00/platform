<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libplatform: Table Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Table Class Reference</h1><!-- doxytag: class="Table" -->Stores data about a <a class="el" href="class_table.html" title="Stores data about a Table.">Table</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="database_8h-source.html">database.h</a>&gt;</code>
<p>

<p>
<a href="class_table-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#2966c4078efd355cf28902ee7352364f">Table</a> (<a class="el" href="class_database.html">Database</a> *db, std::string name, bool exists=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new table.  <a href="#2966c4078efd355cf28902ee7352364f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#ec5466c066134a6e5264de1c5d013763">Table</a> (<a class="el" href="class_database.html">Database</a> *db, std::string name, std::list&lt; <a class="el" href="class_column.html">Column</a> &gt; &amp;columns, bool exists=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new table.  <a href="#ec5466c066134a6e5264de1c5d013763"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#db43d4123efd73953302724647861532">Table</a> (<a class="el" href="class_database.html">Database</a> *db, std::string name, std::string columns, bool exists=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new table.  <a href="#db43d4123efd73953302724647861532"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#7265498a3b5f93058bcebe84fc14d798">add_row</a> (<a class="el" href="class_row.html">Row</a> &amp;data, <a class="el" href="database_8h.html#3ea66fa0f2a59b070aeac05bedd289c8">defer_types_t</a> deferred=defer_none)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a row to the database.  <a href="#7265498a3b5f93058bcebe84fc14d798"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#f96f8e5403cff488b5233e244cb0cf21">add_column</a> (<a class="el" href="class_column.html">Column</a> column, bool exists=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a column to the <a class="el" href="class_table.html" title="Stores data about a Table.">Table</a>.  <a href="#f96f8e5403cff488b5233e244cb0cf21"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#b1d4219bd0af198776b3f2d3332c7183">add_columns</a> (std::list&lt; <a class="el" href="class_column.html">Column</a> &gt; &amp;columns, bool exists=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a std::list&lt;Column&gt; to the <a class="el" href="class_table.html" title="Stores data about a Table.">Table</a>.  <a href="#b1d4219bd0af198776b3f2d3332c7183"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#814d6cddbc025c2bc9f397672228f735">get_name</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the name of the table.  <a href="#814d6cddbc025c2bc9f397672228f735"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::list&lt; <a class="el" href="class_column.html">Column</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#48201fd3b637b169c625a8c724de55c0">get_columns</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets a pointer to a list&lt;Column&gt;.  <a href="#48201fd3b637b169c625a8c724de55c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::list&lt; <a class="el" href="class_row.html">Row</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#177cc876ab43c535406a37f0de483287">get_rows</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the entire set of rows from the <a class="el" href="class_table.html" title="Stores data about a Table.">Table</a>.  <a href="#177cc876ab43c535406a37f0de483287"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#dc07b8b4b1c3e6cca5d82a4c789f63e2">get_error</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the last error code.  <a href="#dc07b8b4b1c3e6cca5d82a4c789f63e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::list&lt; <a class="el" href="class_row.html">Row</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_table.html#b74994bcabcc0209126185b1e497d114">query</a> (std::string query)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query the database using a particular query.  <a href="#b74994bcabcc0209126185b1e497d114"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Stores data about a <a class="el" href="class_table.html" title="Stores data about a Table.">Table</a>. 
<p>
Allows you to create a table in a database using a predefined schema, a list&lt;Column&gt;(), or on demand using <a class="el" href="class_table.html#f96f8e5403cff488b5233e244cb0cf21" title="Add a column to the Table.">add_column()</a>. Optionally, by setting exists to false in the constructor you can tell the class to add itself to the db. exists simply tells the class whether the file on disk already has this table or not. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="2966c4078efd355cf28902ee7352364f"></a><!-- doxytag: member="Table::Table" ref="2966c4078efd355cf28902ee7352364f" args="(Database *db, std::string name, bool exists=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Table::Table           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_database.html">Database</a> *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>exists</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new table. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>A pointer to the database this table belongs to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The name of this table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exists</em>&nbsp;</td><td>Defaults to true. Whether this table already exists in the database on disk. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ec5466c066134a6e5264de1c5d013763"></a><!-- doxytag: member="Table::Table" ref="ec5466c066134a6e5264de1c5d013763" args="(Database *db, std::string name, std::list&lt; Column &gt; &amp;columns, bool exists=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Table::Table           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_database.html">Database</a> *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="class_column.html">Column</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>exists</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new table. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>A pointer to the database this table belongs to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The name of this table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>columns</em>&nbsp;</td><td>A list of columns this table has/should have </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exists</em>&nbsp;</td><td>Defaults to true. Whether this table already exists in the database on disk. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="db43d4123efd73953302724647861532"></a><!-- doxytag: member="Table::Table" ref="db43d4123efd73953302724647861532" args="(Database *db, std::string name, std::string columns, bool exists=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Table::Table           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_database.html">Database</a> *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>exists</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new table. 
<p>
A schema looks like <code>col_name col_type, col_name2 col_type, col_name3 col_type</code> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>A pointer to the database this table belongs to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The name of this table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>columns</em>&nbsp;</td><td>The table's schema </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exists</em>&nbsp;</td><td>Defaults to true. Whether this table already exists in the database on disk. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f96f8e5403cff488b5233e244cb0cf21"></a><!-- doxytag: member="Table::add_column" ref="f96f8e5403cff488b5233e244cb0cf21" args="(Column column, bool exists=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Table::add_column           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_column.html">Column</a>&nbsp;</td>
          <td class="paramname"> <em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>exists</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a column to the <a class="el" href="class_table.html" title="Stores data about a Table.">Table</a>. 
<p>
If the column doesn't exist in the database on disk, set exists to false <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>column</em>&nbsp;</td><td>The <a class="el" href="class_column.html" title="The data for a column.">Column</a> to add </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exists</em>&nbsp;</td><td>Whether the column exists on disk or not </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b1d4219bd0af198776b3f2d3332c7183"></a><!-- doxytag: member="Table::add_columns" ref="b1d4219bd0af198776b3f2d3332c7183" args="(std::list&lt; Column &gt; &amp;columns, bool exists=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Table::add_columns           </td>
          <td>(</td>
          <td class="paramtype">std::list&lt; <a class="el" href="class_column.html">Column</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>exists</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a std::list&lt;Column&gt; to the <a class="el" href="class_table.html" title="Stores data about a Table.">Table</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>columns</em>&nbsp;</td><td>The list of Columns to add </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exists</em>&nbsp;</td><td>Whether the columns exist on disk or not </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7265498a3b5f93058bcebe84fc14d798"></a><!-- doxytag: member="Table::add_row" ref="7265498a3b5f93058bcebe84fc14d798" args="(Row &amp;data, defer_types_t deferred=defer_none)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Table::add_row           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_row.html">Row</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="database_8h.html#3ea66fa0f2a59b070aeac05bedd289c8">defer_types_t</a>&nbsp;</td>
          <td class="paramname"> <em>deferred</em> = <code>defer_none</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a row to the database. 
<p>
The number of data items in the <a class="el" href="class_row.html" title="Row stores the data for an entire row.">Row</a> must equal the number of Columns in the table. This function can also be part of a transaction by setting deferred to defer_force and then calling <a class="el" href="class_database.html#f24c50e97c819020c1493717c68e41ca" title="Commit all deferred commands to the database.">Database::commit()</a> when all operations are queued up. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The <a class="el" href="class_row.html" title="Row stores the data for an entire row.">Row</a> data to add </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deferred</em>&nbsp;</td><td>Whether to include this addition in a transaction </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="48201fd3b637b169c625a8c724de55c0"></a><!-- doxytag: member="Table::get_columns" ref="48201fd3b637b169c625a8c724de55c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="class_column.html">Column</a>&gt;* Table::get_columns           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a pointer to a list&lt;Column&gt;. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a pointer to list&lt;Column&gt; </dd></dl>

</div>
</div><p>
<a class="anchor" name="dc07b8b4b1c3e6cca5d82a4c789f63e2"></a><!-- doxytag: member="Table::get_error" ref="dc07b8b4b1c3e6cca5d82a4c789f63e2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Table::get_error           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the last error code. 
<p>
returns 0 if no error, &gt;0 otherwise <dl class="return" compact><dt><b>Returns:</b></dt><dd>the error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="814d6cddbc025c2bc9f397672228f735"></a><!-- doxytag: member="Table::get_name" ref="814d6cddbc025c2bc9f397672228f735" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Table::get_name           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the name of the table. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the name </dd></dl>

</div>
</div><p>
<a class="anchor" name="177cc876ab43c535406a37f0de483287"></a><!-- doxytag: member="Table::get_rows" ref="177cc876ab43c535406a37f0de483287" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="class_row.html">Row</a>&gt; Table::get_rows           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the entire set of rows from the <a class="el" href="class_table.html" title="Stores data about a Table.">Table</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The data in the table in a list&lt;Row&gt; </dd></dl>

</div>
</div><p>
<a class="anchor" name="b74994bcabcc0209126185b1e497d114"></a><!-- doxytag: member="Table::query" ref="b74994bcabcc0209126185b1e497d114" args="(std::string query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="class_row.html">Row</a>&gt; Table::query           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Query the database using a particular query. 
<p>
The parameter is inserted between 'SELECT' and 'FROM table_name' <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>The selector for sqlite </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>list&lt;Row&gt;, null if error </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>/Users/r0ssar00/Development/Git/platform/platform/<a class="el" href="database_8h-source.html">database.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Jul 29 03:12:49 2009 for libplatform by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
